# Використовуємо офіційний базовий образ Python 3.10
FROM python:3.10-slim

# Встановлюємо робочу директорію в контейнері
WORKDIR /app

# Копіюємо файл залежностей та встановлюємо їх
# Це важливий крок, оскільки він дозволяє кешувати встановлення залежностей
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# Копіюємо решту коду застосунку
# Структура вашого коду (controllers, routes, app.py, etc.) буде скопійована
COPY . .

# Визначаємо змінну оточення, щоб Flask знав, який файл запускати
ENV FLASK_APP=app.py

# Визначаємо порт, на якому працює ваш застосунок (згідно з app.py: port=8000)
EXPOSE 8000

# Команда для запуску застосунку при старті контейнера
# Використовуємо Gunicorn або інший WSGI-сервер у продакшені, але для лабораторної роботи
# запустимо через вбудований Flask сервер (якщо його достатньо):
# CMD ["python", "app.py"]
# *АБО* краще:
CMD ["flask", "run", "--host", "0.0.0.0", "--port", "8000"]
